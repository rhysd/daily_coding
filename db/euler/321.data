http://odz.sakura.ne.jp/projecteuler/index.php?cmd=read&page=Problem%20321

<div id="body">
<p>2n+1 個の正方形からなる水平方向の列に、中央の空白の正方形をへだてて、片側に n 個の赤のカウンタがあり、もう一方の側に n 個の青のカウンタがある。例えば、n=3 では次のとおりである。</p>
<div style="text-align:center"><a href="http://projecteuler.net/project/images/swapping_counters_1.gif" title="swapping_counters_1.gif"><img src="http://projecteuler.net/project/images/swapping_counters_1.gif" alt="swapping_counters_1.gif" title="swapping_counters_1.gif"></a></div>
<p>カウンタは、ある正方形から隣に移動させる（スライド）か、隣のカウンタのさらにその隣が空いていれば、そのカウンタを飛び越える（ジャンプ）ことができる。</p>
<div style="text-align:center"><a href="http://projecteuler.net/project/images/swapping_counters_2.gif" title="swapping_counters_2.gif"><img src="http://projecteuler.net/project/images/swapping_counters_2.gif" alt="swapping_counters_2.gif" title="swapping_counters_2.gif"></a></div>
<p>カウンタの色の位置を完全に逆にするのに必要なスライド／ジャンプの最小の回数を M(n) で表すとする。つまり、赤のカウンタを全て右に移し、青のカウンタを全て左に移す。</p>
<p>M(3)=15 であることが確かめられる。この数は三角数でもある。</p>
<p>M(n) が三角数となる n で数列を作ると、最初の五つの項は次のとおりになる：<br>
1, 3, 10, 22, 63.　これらの和は 99 である。</p>
<p>この数列の最初の 40 個の項の和を求めよ。</p>
</div>
